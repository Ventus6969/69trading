<<<<<<< HEAD
# 69大師背離交易機器人 v2.2 🚀
=======
# 69大師背離交易機器人 v2.1.2
>>>>>>> 36e2ad4b1d6e4e77ba5ccb0190b9c66b01d574f8

[![Python](https://img.shields.io/badge/Python-3.8%2B-blue.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Status](https://img.shields.io/badge/Status-Production%20Ready-success.svg)](https://github.com)
<<<<<<< HEAD
[![ML Ready](https://img.shields.io/badge/ML-Ready-brightgreen.svg)](https://github.com)

## 🎯 專案簡介

**全自動期貨交易機器人**，基於TradingView背離信號策略，支援幣安期貨平台。系統採用先進的機器學習架構，目標將勝率從60-65%提升至**68-72%**。

### ⭐ **v2.2 重大更新**

- **🧠 機器學習就緒**：完整ML數據收集和分析架構
- **📊 智能價格優化**：解決20%執行成功率問題
- **🔧 模組化重構**：更穩定、易維護的系統架構
- **📈 性能提升**：執行成功率目標70%+

---
=======

## 🎯 專案簡介

這是一個基於TradingView信號的**全自動期貨交易機器人**，支援幣安期貨平台。機器人會自動接收TradingView的交易信號，執行下單、止盈、止損等操作，無需人工干預。

## ⭐ **最新版本特色 v2.1.2**

### 🔧 **系統改進**
- **修復訂單狀態同步問題** - 確保系統狀態完全準確
- **提升系統穩定性** - 減少異常情況，提高運行可靠性
- **優化快速成交處理** - 改善高頻交易場景的處理能力

### 🚀 **新增功能**
- **反轉買進策略優化** - 專屬3小時等待時間，提高成交機會
- **智能入場價格** - 可設定低於市價1%入場，降低成本
- **策略專屬配置** - 不同策略可使用不同的參數設定
>>>>>>> 36e2ad4b1d6e4e77ba5ccb0190b9c66b01d574f8

## ✨ 核心功能

### 🤖 **自動交易**
<<<<<<< HEAD
- **TradingView信號接收**：8種背離策略自動執行
- **智能下單邏輯**：基於ATR動態計算止盈止損
- **風險控制系統**：2%自動止損，0.45%最小獲利保護
- **策略專屬配置**：不同策略使用專屬超時和參數

### 🛡️ **安全保護**
- **時間限制**：台灣時間20:00-23:50自動停止交易
- **倉位管理**：智能加倉，自動計算平均成本
- **實時監控**：24小時系統狀態監控
- **完整記錄**：所有交易數據完整保存

### 🧠 **ML智能系統** *(v2.2新增)*
- **48個特徵分析**：全方位市場環境評估
- **雙重預測模型**：執行預測 + 交易預測
- **動態價格優化**：智能調整開倉價格提高成交率
- **漸進式部署**：確保安全的ML功能上線

---

## 📊 **支援的交易策略**

| 策略類型 | 說明 | 特色配置 |
|---------|------|----------|
| **突破買進/賣出** | 價格突破關鍵位置 | 快速入場，45分鐘超時 |
| **反轉買進/賣出** | 價格反轉信號 | 🆕 專屬3小時等待 + 智能價格調整 |
| **反彈買進/賣出** | 價格反彈信號 | 中等風險，標準配置 |
| **整理買進/賣出** | 盤整後方向選擇 | 保守策略，高成功率 |

---

## 🎯 **適用對象**

- **TradingView用戶**：已有背離交易策略的投資者
- **期貨交易者**：需要自動化執行的專業交易員
- **量化愛好者**：希望體驗ML增強交易系統的用戶

---

## 🚀 **快速開始**

### **系統需求**
- Python 3.8+ 
- 幣安期貨帳戶
- TradingView Pro帳戶 (Webhook功能)
- Linux/Windows伺服器 (建議雲端VPS)

### **一鍵安裝**
```bash
# 1. 克隆專案
git clone https://github.com/YOUR_USERNAME/69trading.git
cd 69trading

# 2. 安裝依賴
pip install -r requirements.txt

# 3. 配置API密鑰
cp .env.example .env
nano .env  # 填入幣安API密鑰

# 4. 啟動系統
=======
- **TradingView信號接收** - 自動接收並執行交易策略信號
- **智能下單** - 根據ATR動態計算止盈止損價格
- **風險控制** - 自動設定2%止損保護，確保資金安全
- **多策略支援** - 支援8種不同的背離交易策略

### 🛡️ **安全保護**
- **時間限制** - 台灣時間晚上8點到11點50分自動停止交易
- **倉位管理** - 智能加倉，自動計算平均成本
- **實時監控** - 24小時系統狀態監控
- **完整記錄** - 所有交易資料完整保存

## 📊 **支援的交易策略**

| 策略名稱 | 說明 | 特色 |
|---------|------|------|
| 突破買進/賣出 | 價格突破關鍵位置 | 快速入場 |
| 反轉買進/賣出 | 價格反轉信號 | 🆕 專屬3小時等待 + 低1%入場 |
| 反彈買進/賣出 | 價格反彈信號 | 中等風險 |
| 整理買進/賣出 | 盤整後方向選擇 | 保守策略 |

## 🎯 **適用對象**

- **TradingView用戶** - 已有背離交易策略的使用者
- **期貨交易者** - 需要自動化執行交易的投資人
- **量化愛好者** - 希望建立自動交易系統的開發者

## 🚀 快速開始

### **系統需求**
- Python 3.8 或以上版本
- 幣安期貨帳戶
- TradingView Pro帳戶

### **安裝步驟**

1. **下載程式**
```bash
git clone https://github.com/您的用戶名/trading-bot.git
cd trading-bot
```

2. **安裝依賴**
```bash
pip install -r requirements.txt
```

3. **設定API金鑰**
```bash
# 複製設定檔範本
cp .env.example .env

# 編輯設定檔，填入您的幣安API金鑰
nano .env
```

4. **啟動系統**
```bash
>>>>>>> 36e2ad4b1d6e4e77ba5ccb0190b9c66b01d574f8
python main.py
```

### **TradingView設定**
<<<<<<< HEAD
在策略中設定Webhook網址：
=======
在您的TradingView策略中，設定Webhook網址為：
>>>>>>> 36e2ad4b1d6e4e77ba5ccb0190b9c66b01d574f8
```
http://您的伺服器IP:5000/webhook
```

<<<<<<< HEAD
---

## 📱 **監控與管理**

### **API端點**
- **健康檢查**：`GET /health` - 系統狀態概覽
- **訂單查詢**：`GET /orders` - 查看交易記錄
- **持倉狀況**：`GET /positions` - 當前持倉信息
- **統計數據**：`GET /stats` - 交易表現統計
- **系統配置**：`GET /config` - 當前系統設定

### **跨主機監控系統**
- **智能同步**：95%流量節省，月費從$14-16降至$8-11
- **Web Dashboard**：手機友善的實時監控介面
- **三層權限**：管理員/手機/查看者權限管理

---

## ⚙️ **系統配置**

| 設定項目 | 預設值 | 說明 |
|---------|--------|------|
| **槓桿倍數** | 30倍 | 可在設定檔調整 |
| **止損比例** | 2% | 固定風險保護 |
| **最小止盈** | 0.45% | 確保基本獲利 |
| **訂單超時** | 45分鐘 | reversal_buy為3小時 |
| **禁止交易** | 20:00-23:50 | 台灣時間高風險時段 |

---

## 🧠 **ML系統架構 v2.2**

### **智能特徵分析**
- **開倉價格品質** (10特徵)：解決成交率問題
- **策略組合分析** (12特徵)：識別最佳signal配對
- **市場微觀結構** (8特徵)：流動性和波動率評估
- **時間序列分析** (8特徵)：時段表現優化
- **市場環境評估** (6特徵)：趨勢和波動率狀態
- **交易對特性** (4特徵)：不同幣種特性分析

### **三重ML模型**
1. **執行預測**：預測開倉價格成交概率
2. **交易預測**：預測成交後獲利概率  
3. **價格優化**：建議最優開倉價格調整

### **安全部署策略**
- **影子模式**：ML學習但不影響實際交易
- **小規模測試**：10%信號使用ML決策
- **全面部署**：達成68-72%勝率目標

---

## 📈 **系統性能**

### **當前表現**
- **執行成功率**：20% → 目標70%+ *(ML優化中)*
- **交易成功率**：100% *(成交後獲利率)*
- **系統穩定性**：99.9%運行時間
- **處理延遲**：<200毫秒信號響應

### **支援規模**
- **交易對**：5個主流期貨合約
- **策略類型**：8種背離信號策略
- **24小時運行**：全自動無人值守
- **記憶體使用**：~80MB常駐記憶體

---

## 🔮 **發展路線圖**

### **🚧 Phase 2 (進行中)**
- [ ] 48個ML特徵自動收集
- [ ] 智能價格優化算法
- [ ] 策略表現深度分析

### **🎯 Phase 3 (3個月內)**
- [ ] ML模型訓練完成
- [ ] 執行成功率提升至70%+
- [ ] 動態止盈止損優化

### **🚀 Phase 4 (6-12個月)**
- [ ] 影子模式ML測試
- [ ] 漸進式智能交易部署
- [ ] 達成68-72%整體勝率

---

## ⚠️ **風險提醒**

- **投資風險**：加密貨幣交易具高風險，可能導致資金損失
- **資金管理**：請只投入您可承受損失的資金
- **測試建議**：建議先用小額資金測試系統
- **策略理解**：系統執行您的TradingView策略，不提供投資建議
- **風險控制**：請充分了解期貨交易和槓桿風險

---

## 🤝 **技術支援**

- **📚 文檔**：[查看Wiki](https://github.com/YOUR_USERNAME/69trading/wiki)
- **🐛 問題回報**：[GitHub Issues](https://github.com/YOUR_USERNAME/69trading/issues)
- **💬 討論區**：[GitHub Discussions](https://github.com/YOUR_USERNAME/69trading/discussions)
- **📊 更新記錄**：[查看CHANGELOG](CHANGELOG.md)

---
=======
## 📱 **系統監控**

啟動後可透過以下網址監控系統狀態：
- **健康檢查**：`http://您的IP:5000/health`
- **訂單查詢**：`http://您的IP:5000/orders`
- **持倉狀況**：`http://您的IP:5000/positions`
- **系統統計**：`http://您的IP:5000/stats`

## ⚙️ **主要設定**

| 設定項目 | 預設值 | 說明 |
|---------|--------|------|
| 槓桿倍數 | 30倍 | 可在設定檔調整 |
| 止損比例 | 2% | 固定止損保護 |
| 最小止盈 | 0.45% | 最小獲利保證 |
| 訂單超時 | 45分鐘 | reversal_buy為3小時 |
| 禁止交易時間 | 20:00-23:50 | 台灣時間 |

## 🔮 **未來發展**

### **機器學習增強（開發中）**
- 智能信號過濾系統
- 預期提升勝率至68-72%
- 自動策略優化

### **監控系統**
- 網頁版監控介面
- 手機APP支援
- 即時統計圖表

## 🛠️ 常見問題

### **Q: 需要一直開著電腦嗎？**
A: 是的，系統需要24小時運行來接收TradingView信號。建議使用雲端伺服器（如AWS、GCP）部署。

### **Q: 會不會有資金安全問題？**
A: 系統只有交易權限，無法提領資金。建議使用專門的API金鑰，並設定IP白名單。

### **Q: 如何停止所有交易？**
A: 直接關閉程式即可停止接收新信號。已下的訂單可透過監控介面或直接到幣安取消。

### **Q: 支援哪些交易對？**
A: 目前支援 BTCUSDT、ETHUSDT、BNBUSDC、SOLUSDC、WLDUSDC 等主流期貨合約。

### **Q: 可以調整槓桿嗎？**
A: 可以，在 `config/settings.py` 中修改 `DEFAULT_LEVERAGE` 參數。

## 📊 **系統效能**

| 指標 | 表現 |
|------|------|
| 信號處理速度 | <200毫秒 |
| 系統穩定性 | 99.9% |
| 記憶體使用 | ~60MB |
| 支援交易對 | 5個主流合約 |
| 24小時運行 | ✅ 支援 |

## ⚠️ **風險提醒**

- **加密貨幣交易具有高風險**，可能導致資金損失
- **請只投入您可承受損失的資金**
- **建議先用小額資金測試**
- **系統僅執行您的TradingView策略**，不提供投資建議
- **請充分了解期貨交易風險**

## 🤝 **技術支援**

- **GitHub Issues**: [提交問題](https://github.com/您的用戶名/trading-bot/issues)
- **文檔資料**: [查看Wiki](https://github.com/您的用戶名/trading-bot/wiki)
- **更新記錄**: [查看CHANGELOG](CHANGELOG.md)
>>>>>>> 36e2ad4b1d6e4e77ba5ccb0190b9c66b01d574f8

## 📄 **授權聲明**

本專案採用 MIT License 授權。詳見 [LICENSE](LICENSE) 檔案。

---

**⭐ 如果對您有幫助，請給個Star支持！**

<<<<<<< HEAD
**📈 當前版本**: v2.2 - ML Ready  
**🎯 下一版本**: v2.3 - 智能價格優化  
**🚀 最終目標**: 68-72%勝率的完全自動化智能交易系統
=======
**📞 技術問題**: GitHub Issues  
**🚀 當前版本**: v2.1.2 Production Ready
>>>>>>> 36e2ad4b1d6e4e77ba5ccb0190b9c66b01d574f8
